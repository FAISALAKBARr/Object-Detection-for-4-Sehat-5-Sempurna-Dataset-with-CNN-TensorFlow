# Automated Nutritional Analysis: Object Detection for Balanced Meal Evaluation According to 4 Sehat 5 Sempurna
### Andromeda Group's Startup Campus Final Project

## Project Description
Final project untuk program Startup Campus pada track Artificial Intelligence. Proyek ini bertujuan untuk mengembangkan aplikasi Automated Nutritional Analysis: Object Detection for Balanced Meal Evaluation According to 4 Sehat 5 Sempurna. Aplikasi ini menggunakan model deteksi objek berbasis Convolutional Neural Networks (CNN) untuk menganalisis komposisi makanan dan mengevaluasi keseimbangan gizi berdasarkan prinsip 4 Sehat 5 Sempurna. Proyek ini dirancang untuk mendukung edukasi gizi masyarakat dengan teknologi berbasis AI. Mendeteksi tingkat nutrisi dan gizi pada sepiring makanan menggunakan Object Detection dan berpatok pada 4 Sehat 5 Sempurna.

## Fitur Utama
- Deteksi dan klasifikasi makanan menggunakan CNN.
- Tampilan interaktif dengan anotasi visual objek makanan.
- Evaluasi keseimbangan nutrisi secara otomatis.
- Dukungan dataset untuk prinsip 4 Sehat 5 Sempurna.
  
## Teknologi yang Digunakan:
- Python
- TensorFlow/Keras
- OpenCV
- Dataset makanan dan minuman

Please describe your Startup Campus final project here. You may should your <b>model architecture</b> in JPEG or GIF.

## Contributor
| Full Name | Affiliation | Email | LinkedIn | Role |
| --- | --- | --- | --- | --- |
| Mochamad Faisal Akbar | Universitas Sebelas Maret | faisalzogg022@gmail.com | [Profile Linkedln](https://www.linkedin.com/in/m-faisal-akbar) | Team Lead |
| Firman Sanjaya | Politeknik Harapan Bersama | firmansanjaya2301@gmail.com | [Profile Linkedln](https://www.linkedin.com/in/firman-sanjaya-ab5001332) | Team Member |
| Nasywa Raichanah | Universitas Sebelas Maret | nasywaraichanah15.2@gmail.com | [Profile Linkedln](https://www.linkedin.com/in/nasywaraichanah/) |Team Member |
| Muhammad Ihsan Robbani | Politeknik Negeri Sriwijaya | ihsanrobbani23@gmail.com | [Profile LinkedIn](https://www.linkedin.com/in/ihsanrobbani) | Team Member |
| Advent Samuel Halomoan | Politeknik Negeri Sriwijaya | adventsamuelhalomoan36@gmail.com | [Profile LinkedIn](https://www.linkedin.com/in/advent-samuel-halomoan-957b69221/) | Team Member |
| Gally Sabara | Politeknik Negeri Sriwijaya | gallysabara44@gmail.com | [Profile LinkedIn](https://www.linkedin.com/in/gally-sabara-597397335) | Team Member |
| Nur Alifa Septianti | Public Bootcamp Enterprise | alifaseptianti21@gmail.com | [Profile LinkedIn](https://id.linkedin.com/in/nur-alifa-septianti-34552b168) | Team Member |
| Nicholas Dominic | Startup Campus, AI Track | nic.dominic@icloud.com | [Profile Linkedln](https://linkedin.com/in/nicholas-dominic) | Supervisor |

## Setup
### Prerequisite Packages (Dependencies)
- absl-py==2.1.0  
- altair==5.5.0  
- asttokens==2.4.1  
- astunparse==1.6.3  
- attrs==24.2.0  
- blinker==1.9.0  
- cachetools==5.5.0  
- certifi==2024.8.30  
- charset-normalizer==3.4.0  
- click==8.1.7  
- colorama==0.4.6  
- comm==0.2.2  
- contourpy==1.2.0  
- cycler==0.12.1  
- debugpy==1.8.9  
- decorator==5.1.1  
- executing==2.1.0  
- filelock==3.16.1  
- flatbuffers==24.3.25  
- fonttools==4.46.0  
- fsspec==2024.10.0  
- gast==0.6.0  
- git-filter-repo==2.45.0  
- gitdb==4.0.11  
- GitPython==3.1.43  
- google-pasta==0.2.0  
- graphviz==0.20.3  
- grpcio==1.67.1  
- h5py==3.12.1  
- idna==3.10  
- ipykernel==6.29.5  
- ipython==8.29.0  
- jedi==0.19.2  
- Jinja2==3.1.4  
- joblib==1.4.2  
- jsonschema==4.23.0  
- jsonschema-specifications==2024.10.1  
- jupyter_client==8.6.3  
- jupyter_core==5.7.2  
- keras==3.6.0  
- kiwisolver==1.4.5  
- libclang==18.1.1  
- Markdown==3.7  
- markdown-it-py==3.0.0  
- MarkupSafe==3.0.2  
- matplotlib==3.8.2  
- matplotlib-inline==0.1.7  
- mdurl==0.1.2  
- ml-dtypes==0.4.1  
- mpmath==1.3.0  
- namex==0.0.8  
- narwhals==1.14.2  
- nest-asyncio==1.6.0  
- networkx==3.3  
- numpy==1.26.2  
- opencv-contrib-python==4.10.0.84  
- opencv-python==4.10.0.84  
- opencv-python-headless==4.10.0.84  
- opt_einsum==3.4.0  
- optree==0.13.0  
- packaging==23.2  
- pandas==2.2.3  
- parso==0.8.4  
- pillow==11.0.0  
- platformdirs==4.3.6  
- prompt_toolkit==3.0.48  
- protobuf==5.28.3  
- psutil==6.1.0  
- pure_eval==0.2.3  
- py-cpuinfo==9.0.0  
- pyarrow==18.0.0  
- pydeck==0.9.1  
- Pygments==2.18.0  
- pyparsing==3.1.1  
- python-dateutil==2.8.2  
- pytz==2024.2  
- pywin32==308  
- PyYAML==6.0.2  
- pyzmq==26.2.0  
- referencing==0.35.1  
- requests==2.32.3  
- rich==13.9.4  
- rpds-py==0.21.0  
- scikit-learn==1.5.2  
- scipy==1.14.1  
- seaborn==0.13.2  
- six==1.16.0  
- smmap==5.0.1  
- stack-data==0.6.3  
- streamlit==1.40.1  
- streamlit-option-menu==0.4.0  
- streamlit-webrtc==0.47.9  
- sympy==1.13.1  
- tenacity==9.0.0  
- tensorboard==2.18.0  
- tensorboard-data-server==0.7.2  
- tensorflow==2.18.0  
- tensorflow-io-gcs-filesystem==0.31.0  
- tensorflow_intel==2.18.0  
- termcolor==2.5.0  
- thop==0.1.1.post2209072238  
- threadpoolctl==3.5.0  
- toml==0.10.2  
- torch==2.5.0  
- torchvision==0.20.0  
- tornado==6.4.2  
- tqdm==4.66.6  
- traitlets==5.14.3  
- typing_extensions==4.12.2  
- tzdata==2024.2  
- ultralytics==8.3.24  
- ultralytics-thop==2.0.9  
- urllib3==2.2.3  
- watchdog==6.0.0  
- wcwidth==0.2.13  
- Werkzeug==3.1.2  
- wrapt==1.16.0  
- gdown  



### Environment
**Training Kaggle**
| | |
| --- | --- |
| CPU | Intel(R) Xeon(R) CPU @ 2.00GHz |
| GPU |  Tesla P100-PCIE-16GB |
| ROM |  8062 GB SSD |
| RAM | 29.0 GB |
| OS | Ubuntu 22.04.3 LTS |


**Training Google Colab**
| | |
| --- | --- |
| CPU | Intel(R) Xeon(R) CPU @ 2.20GHz |
| GPU | NVIDIA Tesla T4, A100 |
| ROM |  235.7 GB SSD |
| RAM | 15 GB |
| OS | Ubuntu 22.04.3 LTS |

**Deployment**
| | |
| --- | --- |
| CPU | 12th Gen Intel(R) Core(TM) i7-1260P (16 CPUs), ~2.1GHz |
| GPU | Laptop: Intel(R) Iris(R) Xe Graphics |
| ROM | 512 GB SSD |
| RAM | 16 GB |
| OS | Microsoft Windows 11 Home Single Language |

## Dataset
Describe your dataset information here. Provide a screenshot for some of your dataset samples (for example, if you're using CIFAR10 dataset, then show an image for each class).
- Link: [Dataset 4 Sehat 5 Sempurna](https://www.kaggle.com/datasets/andromedagroup05/data-4-sehat-5-sempurna)

Karbohidrat


<img src="https://github.com/FAISALAKBARr/Object-Detection-for-Balanced-Meal-Evaluation-According-to-4-Sehat-5-Sempurna/blob/main/demo%20test/karbohidrat/Image(9).jpg" width="200" height="200">

Protein


<img src="https://github.com/FAISALAKBARr/Object-Detection-for-Balanced-Meal-Evaluation-According-to-4-Sehat-5-Sempurna/blob/main/demo%20test/protein/Image(7).jpg" width="200" height="200">

Sayur


<img src="https://github.com/FAISALAKBARr/Object-Detection-for-Balanced-Meal-Evaluation-According-to-4-Sehat-5-Sempurna/blob/main/demo%20test/sayur/Image(4).jpeg" width="200" height="200">

Buah


<img src="https://github.com/FAISALAKBARr/Object-Detection-for-Balanced-Meal-Evaluation-According-to-4-Sehat-5-Sempurna/blob/main/demo%20test/buah/Image%20(2).jpg" width="200" height="200"> 

Minuman


<img src="https://github.com/FAISALAKBARr/Object-Detection-for-4-Sehat-5-Sempurna-Dataset-with-CNN-TensorFlow/blob/main/demo%20test/minuman/Image%20(6).jpg"
width="200" height="200">


## Results
### Model Performance
Describe all results found in your final project experiments, including hyperparameters tuning and architecture modification performances. Put it into table format. Please show pictures (of model accuracy, loss, etc.) for more clarity.

#### 1. Metrics
Inform your model validation performances, as follows:
- For classification tasks, use **Precision and Recall**.
- For object detection tasks, use **Precision and Recall**. Additionaly, you may also use **Intersection over Union (IoU)**.
- For image retrieval tasks, use **Precision and Recall**.
- For optical character recognition (OCR) tasks, use **Word Error Rate (WER) and Character Error Rate (CER)**.
- For adversarial-based generative tasks, use **Peak Signal-to-Noise Ratio (PNSR)**. Additionally, for specific GAN tasks,
  - For single-image super resolution (SISR) tasks, use **Structural Similarity Index Measure (SSIM)**.
  - For conditional image-to-image translation tasks (e.g., Pix2Pix), use **Inception Score**.

Feel free to adjust the columns in the table below.

| model | epoch | learning_rate | batch_size | optimizer | val_loss | val_precision | val_recall | ... |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| Code Versi 2 | 110 | 0.0001 | 16 | Adam | 0.518 | ... | 82.40% | ... | 

<!-- | model | epoch | learning_rate | batch_size | optimizer | val_loss | val_precision | val_recall | ... |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| vit_b_16 | 1000 |  0.0001 | 32 | Adam | 0.093 | 88.34% | 84.15% | ... |
| vit_l_32 | 2500 | 0.00001 | 128 | SGD | 0.041 | 90.19% | 87.55% | ... |
| ... | ... | ... | ... | ... | ... | ... | ... | ... |  -->

#### 2. Ablation Study
Any improvements or modifications of your base model, should be summarized in this table. Feel free to adjust the columns in the table below.
Untuk melihat visualisasi layering model final nya, dapat dilihat pada link berikut: [Visualisasi Layering Model](https://faisalakbarr.github.io/augmentasi-dan-layering/visualisasi_layermodel.html)

| model | layer_A | layer_B | layer_C | ... | top1_acc | top5_acc |
| --- | --- | --- | --- | --- | --- | --- |
| vit_b_16 | Conv(3x3, 64) x2 | Conv(3x3, 512) x3 | Conv(1x1, 2048) x3 | ... | 77.43% | 80.08% |
| vit_b_16 | Conv(3x3, 32) x3 | Conv(3x3, 128) x3 | Conv(1x1, 1028) x2 | ... | 72.11% | 76.84% |
| ... | ... | ... | ... | ... | ... | ... |

#### 3. Training/Validation Curve
Insert an image regarding your training and evaluation performances (especially their losses). The aim is to assess whether your model is fit, overfit, or underfit.

Grafik 


<img src="https://github.com/FAISALAKBARr/Object-Detection-for-4-Sehat-5-Sempurna-Dataset-with-CNN-TensorFlow/blob/main/dokumentasi/Training%20New%20Dataset%2BSplit%20Data15_70_15/Code%20Versi%202/lr%201%2C-e4%20(0%2C0001)%20size%20224%20bs%2016%20epochs%20110%20(83%2C6%25%2082%2C4%25)/grafik.png" width="1263" height="424">

 
### Testing
testing, kita bisa mendeteksi 8 dari 10. tetapi untuk pengklasifikasiannya (analysis) 9 dari 10

### Deployment (Optional)
Anda dapat mengakses website kami melalui link berikut: [Wesite Andromeda](https://object-detection-for-4-sehat-5-sempurna.streamlit.app)

Object Detection for 4 Sehat 5 Sempurna adalah aplikasi berbasis web yang menggunakan machine learning untuk mendeteksi tingkat nutrisi dan gizi dalam sebuah piring makanan. Ini dikembangkan dengan TensorFlow menggunakan model Convolutional Neural Networks (CNN) dan bertujuan untuk mengidentifikasi makanan berdasarkan konsep "4 Sehat 5 Sempurna" dalam budaya Indonesia. Aplikasi ini didesain untuk membantu analisis nutrisi secara otomatis, seperti memeriksa apakah makanan memenuhi komponen gizi yang seimbang. Proses deteksi dilakukan berdasarkan input berupa file gambar dan juga secara realtime, sehingga memungkinkan pengguna untuk menganalisis berbagai jenis data secara fleksibel.

Website kami dirancang dengan antarmuka yang sederhana dan fungsional hal ini membuatnya mudah digunakan bagi pengguna yang ingin mengunggah gambar makanan dan mendapatkan hasil deteksi.

<b>PREVIEW</b>

<b>Home<b>
<img src="https://github.com/FAISALAKBARr/Object-Detection-for-4-Sehat-5-Sempurna-Dataset-with-CNN-TensorFlow/blob/main/demo%20test/PREVIEW%20WEBSITE/Home.png">

<b>Upload Image</b>
<img src="https://github.com/FAISALAKBARr/Object-Detection-for-4-Sehat-5-Sempurna-Dataset-with-CNN-TensorFlow/blob/main/demo%20test/PREVIEW%20WEBSITE/uploadgbr.png">

<b>Realtime</b>
<img src="https://github.com/FAISALAKBARr/Object-Detection-for-4-Sehat-5-Sempurna-Dataset-with-CNN-TensorFlow/blob/main/demo%20test/PREVIEW%20WEBSITE/realtime.png">


## Supporting Documents
### Presentation Deck
- Link: [Andromeda Group's Presentation Deck](https://www.canva.com/design/DAGXshmx8wM/N9qiiPDu5uBXeROG2RjyGQ/edit?utm_content=DAGXshmx8wM&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton)

### Business Model Canvas
*BMC*

<img src="https://github.com/FAISALAKBARr/Object-Detection-for-4-Sehat-5-Sempurna-Dataset-with-CNN-TensorFlow/blob/main/Tambahan/Edit%20BMC.jpg">

### Short Video
Provide a link to your short video, that should includes the project background and how it works.
- Link: [Youtube](https://youtu.be/to7kpovqvCs)

## References
Provide all links that support this final project, i.e., papers, GitHub repositories, websites, etc.
- Link: [Padang Food Dataset](https://www.kaggle.com/datasets/faldoae/padangfood)
- Link: [Hewan Ternak Dataset](https://www.kaggle.com/datasets/zulfafebriana/dataset-hewan-ternak)
- Link: [Indonesian Food Dataset](https://www.kaggle.com/datasets/rizkyyk/dataset-food-classification)
- Link: [Nutrilog Dataset](https://www.kaggle.com/datasets/israkf/nutrilog-dataset)
- Link: https://...

## Additional Comments
Provide your team's additional comments or final remarks for this project. For example,
1. baseline terlalu simple, jadi kamu perlu penyesuaian yang memakan banyak waktu pada menentukan final layer model
2. ⁠tiap dataclass memiliki jenis yang beragam, tetapi pada beberapa kasus ada kemiripan” dengan class lain, sehingga pendeteksian harus lebih mendalam. misalnya, 
- tomat pada class sayur yang mirip dengan class buah karena bentuknya bulat. 
- ⁠class karbohidrat, protein, sayur,buah memiliki banyak bentuk yg beragam

  
## How to Cite
If you find this project useful, we'd grateful if you cite this repository:
```
@article{
...
}
```

## License
For academic and non-commercial use only.

## Acknowledgement
This project entitled <b>"Automated Nutritional Analysis: Object Detection for Balanced Meal Evaluation According to 4 Sehat 5 Sempurna"</b> is supported and funded by Startup Campus Indonesia and Indonesian Ministry of Education and Culture through the "**Kampus Merdeka: Magang dan Studi Independen Bersertifikasi (MSIB)**" program.
